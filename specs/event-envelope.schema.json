{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "EventEnvelope",
  "type": "object",
  "required": ["timestamp", "source", "intent", "payload"],
  "properties": {
    "timestamp": {
      "type": "string",
      "format": "date-time",
      "description": "ISO 8601 UTC timestamp when the event was created"
    },
    "source": {
      "type": "string",
      "description": "Logical module or agent that produced this event. Example: 'io-speech', 'io-vision', 'scheduler', 'user-direct'"
    },
    "intent": {
      "type": "string",
      "description": "High-level requested action. Examples: 'PLAY_MEDIA', 'SEND_MESSAGE', 'GET_WEATHER', 'NAVIGATE_HOME'"
    },
    "payload": {
      "type": "object",
      "description": "Structured arguments for the intent",
      "additionalProperties": true
    },
    "auth_scope": {
      "type": "string",
      "description": "Optional: permission scope asserted by caller. Example: 'user.local.explicit', 'background.passive'"
    },
    "safety_context": {
      "type": "object",
      "description": "Optional: info for policy, like who would receive data or cost of an action",
      "additionalProperties": true
    }
  },
  "additionalProperties": false
}
